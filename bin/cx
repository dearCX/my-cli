#!/usr/bin/env node
// console.log('hello connie')
// æ ¸å¿ƒå¤„ç†å‘½ä»¤è¡Œ
const program = require('commander')

// å¤„ç†å½“ç”¨æˆ·è¿›è¡Œç‰ˆæœ¬å·æ§åˆ¶çš„æ—¶å€™
const printer = require('@darkobits/lolcatjs')

// å‰ç«¯å†™çš„shell
const shelljs = require('shelljs')

// è·Ÿç”¨æˆ·å‘ç”Ÿå¯¹è¯
const chalk = require('chalk')

// è·Ÿç”¨æˆ·è¿›è¡Œäº¤äº’
const inquirer = require('inquirer')

// program.version('0.0.1','-v, --verison')
program.version(printer.default.fromString('connie.chen'), '-v, --verison')
// program.command('init', 'åˆå§‹åŒ–æˆ‘ä»¬çš„é¡¹ç›®')
const binHandler = {
  init(){
    console.log('æ¶ˆæ¯')
    inquirer.prompt([
      // {
      //   type: 'text',
      //   message: 'è¯·è¾“å…¥æ–‡ä»¶å¤¹åç§°',
      //   choices: ['TypeScript', 'EcmaScript'],
      //   name: 'dirname'
      // },
      {
        type: 'list',
        message: 'è¯·é€‰æ‹©å¯¹åº”çš„è¯­è¨€',
        choices: ['TypeScript', 'EcmaScript'],
        name: 'kind'
      }
    ]).then(answer => {

    })
  }
}

program.usage('[cmd] <options>')
       .arguments('<cmd> [env]')
       .action((cmd,otherParms) => {
          const handler = binHandler[cmd]
          if (typeof handler === 'undefined') {
            // chalk.yellow('éå¸¸é—æ†¾ã€ã€‘æš‚æœªå¼€å‘')
            console.log(`${chalk.yellow('éå¸¸é—æ†¾')}ã€${chalk.red(cmd)}ã€‘æš‚æœªå¼€å‘ ğŸ˜³`)
            process.exit(1)
          } else {
            handler(otherParms)
          }
       })
program.parse(process.argv)